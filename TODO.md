# TODO
## Create arguments & functions objects
1. [ ] Test performance of different implementations
  - [ ] `concurrent.futures` compared to `multiprocessing`
    - [ ] Make sure existing functions work correctly:
      - [ ] `submit` vs `apply` and `apply_async`
      - [ ] `map` vs `map` and `map_async`
    - [ ] Recreate `multiprocessing`'s functions for `concurrent.futures` pool objects:
      - [ ] `imap`
      - [ ] `imap_unordered`
      - [ ] `starmap` / `starmap_async`
  - [ ] Queues vs Lists for affinity
    - [ ] Queue vs shuffled Queue
    - [ ] List vs shuffled List vs `random.choice` of list
  - [ ] Looping vs List for getting results from functions
  - [ ] Using a wrapper function for setting/resetting affinity vs building it directly into the `submit`/`apply` functions
  - [ ] Total variations:
    - [ ] No multithreading/multiprocessing
      - [ ] Loop comprehension
      - [ ] List Comprehension
    - [ ] `concurrent.futures`
      - [ ] Submit / Apply
        - [ ] No affinity handling (OS handles picking cores/threads)
          - [ ] Loop comprehension
          - [ ] List Comprehension
        - [ ] Use wrapper affinity handler
          - [ ] Affinity stored in list
            - [ ] Get affinity element with `list.pop()`
              - [ ] Loop comprehension
              - [ ] List Comprehension
            - [ ] Get affinity element with `random.choice`
              - [ ] Loop comprehension
              - [ ] List Comprehension
          - [ ] Affinity stored in shuffled list
            - [ ] Get affinity element with `list.pop()`
              - [ ] Loop comprehension
              - [ ] List Comprehension
            - [ ] Get affinity element with `random.choice`
              - [ ] Loop comprehension
              - [ ] List Comprehension
          - [ ] Affinity stored in queue
            - [ ] Get affinity element with `queue.get()`
              - [ ] Loop comprehension
              - [ ] List Comprehension
            - [ ] Get affinity element with `random.choice`
              - [ ] Loop comprehension
              - [ ] List Comprehension
          - [ ] Affinity stored in shuffled queue
            - [ ] Get affinity element with `queue.get()`
              - [ ] Loop comprehension
              - [ ] List Comprehension
            - [ ] Get affinity element with `random.choice`
              - [ ] Loop comprehension
              - [ ] List Comprehension
        - [ ] Use built-in affinity handler
          - [ ] Get affinity element with `list.pop()`
            - [ ] Loop comprehension
            - [ ] List Comprehension
          - [ ] Get affinity element with `random.choice`
            - [ ] Loop comprehension
            - [ ] List Comprehension
        - [ ] Affinity stored in shuffled list
          - [ ] Get affinity element with `list.pop()`
            - [ ] Loop comprehension
            - [ ] List Comprehension
          - [ ] Get affinity element with `random.choice`
            - [ ] Loop comprehension
            - [ ] List Comprehension
        - [ ] Affinity stored in queue
          - [ ] Get affinity element with `queue.get()`
            - [ ] Loop comprehension
            - [ ] List Comprehension
          - [ ] Get affinity element with `random.choice`
            - [ ] Loop comprehension
            - [ ] List Comprehension
        - [ ] Affinity stored in shuffled queue
          - [ ] Get affinity element with `queue.get()`
            - [ ] Loop comprehension
            - [ ] List Comprehension
          - [ ] Get affinity element with `random.choice`
            - [ ] Loop comprehension
            - [ ] List Comprehension

      - [ ] Map
        - [ ] No affinity handling (OS handles picking cores/threads)
          - [ ] Loop comprehension
          - [ ] List Comprehension
        - [ ] Use wrapper affinity handler
          - [ ] Affinity stored in list
            - [ ] Get affinity element with `list.pop()`
              - [ ] Loop comprehension
              - [ ] List Comprehension
            - [ ] Get affinity element with `random.choice`
              - [ ] Loop comprehension
              - [ ] List Comprehension
          - [ ] Affinity stored in shuffled list
            - [ ] Get affinity element with `list.pop()`
              - [ ] Loop comprehension
              - [ ] List Comprehension
            - [ ] Get affinity element with `random.choice`
              - [ ] Loop comprehension
              - [ ] List Comprehension
          - [ ] Affinity stored in queue
            - [ ] Get affinity element with `queue.get()`
              - [ ] Loop comprehension
              - [ ] List Comprehension
            - [ ] Get affinity element with `random.choice`
              - [ ] Loop comprehension
              - [ ] List Comprehension
          - [ ] Affinity stored in shuffled queue
            - [ ] Get affinity element with `queue.get()`
              - [ ] Loop comprehension
              - [ ] List Comprehension
            - [ ] Get affinity element with `random.choice`
              - [ ] Loop comprehension
              - [ ] List Comprehension
        - [ ] Use built-in affinity handler
          - [ ] Get affinity element with `list.pop()`
            - [ ] Loop comprehension
            - [ ] List Comprehension
          - [ ] Get affinity element with `random.choice`
            - [ ] Loop comprehension
            - [ ] List Comprehension
        - [ ] Affinity stored in shuffled list
          - [ ] Get affinity element with `list.pop()`
            - [ ] Loop comprehension
            - [ ] List Comprehension
          - [ ] Get affinity element with `random.choice`
            - [ ] Loop comprehension
            - [ ] List Comprehension
        - [ ] Affinity stored in queue
          - [ ] Get affinity element with `queue.get()`
            - [ ] Loop comprehension
            - [ ] List Comprehension
          - [ ] Get affinity element with `random.choice`
            - [ ] Loop comprehension
            - [ ] List Comprehension
        - [ ] Affinity stored in shuffled queue
          - [ ] Get affinity element with `queue.get()`
            - [ ] Loop comprehension
            - [ ] List Comprehension
          - [ ] Get affinity element with `random.choice`
            - [ ] Loop comprehension
            - [ ] List Comprehension
    - [ ] `multiprocessing`
      - [ ] Submit / Apply
        - [ ] No affinity handling (OS handles picking cores/threads)
          - [ ] Loop comprehension
          - [ ] List Comprehension
        - [ ] Use wrapper affinity handler
          - [ ] Affinity stored in list
            - [ ] Get affinity element with `list.pop()`
              - [ ] Loop comprehension
              - [ ] List Comprehension
            - [ ] Get affinity element with `random.choice`
              - [ ] Loop comprehension
              - [ ] List Comprehension
          - [ ] Affinity stored in shuffled list
            - [ ] Get affinity element with `list.pop()`
              - [ ] Loop comprehension
              - [ ] List Comprehension
            - [ ] Get affinity element with `random.choice`
              - [ ] Loop comprehension
              - [ ] List Comprehension
          - [ ] Affinity stored in queue
            - [ ] Get affinity element with `queue.get()`
              - [ ] Loop comprehension
              - [ ] List Comprehension
            - [ ] Get affinity element with `random.choice`
              - [ ] Loop comprehension
              - [ ] List Comprehension
          - [ ] Affinity stored in shuffled queue
            - [ ] Get affinity element with `queue.get()`
              - [ ] Loop comprehension
              - [ ] List Comprehension
            - [ ] Get affinity element with `random.choice`
              - [ ] Loop comprehension
              - [ ] List Comprehension
        - [ ] Use built-in affinity handler
          - [ ] Get affinity element with `list.pop()`
            - [ ] Loop comprehension
            - [ ] List Comprehension
          - [ ] Get affinity element with `random.choice`
            - [ ] Loop comprehension
            - [ ] List Comprehension
        - [ ] Affinity stored in shuffled list
          - [ ] Get affinity element with `list.pop()`
            - [ ] Loop comprehension
            - [ ] List Comprehension
          - [ ] Get affinity element with `random.choice`
            - [ ] Loop comprehension
            - [ ] List Comprehension
        - [ ] Affinity stored in queue
          - [ ] Get affinity element with `queue.get()`
            - [ ] Loop comprehension
            - [ ] List Comprehension
          - [ ] Get affinity element with `random.choice`
            - [ ] Loop comprehension
            - [ ] List Comprehension
        - [ ] Affinity stored in shuffled queue
          - [ ] Get affinity element with `queue.get()`
            - [ ] Loop comprehension
            - [ ] List Comprehension
          - [ ] Get affinity element with `random.choice`
            - [ ] Loop comprehension
            - [ ] List Comprehension
      - [ ] Map
        - [ ] No affinity handling (OS handles picking cores/threads)
          - [ ] Loop comprehension
          - [ ] List Comprehension
        - [ ] Use wrapper affinity handler
          - [ ] Affinity stored in list
            - [ ] Get affinity element with `list.pop()`
              - [ ] Loop comprehension
              - [ ] List Comprehension
            - [ ] Get affinity element with `random.choice`
              - [ ] Loop comprehension
              - [ ] List Comprehension
          - [ ] Affinity stored in shuffled list
            - [ ] Get affinity element with `list.pop()`
              - [ ] Loop comprehension
              - [ ] List Comprehension
            - [ ] Get affinity element with `random.choice`
              - [ ] Loop comprehension
              - [ ] List Comprehension
          - [ ] Affinity stored in queue
            - [ ] Get affinity element with `queue.get()`
              - [ ] Loop comprehension
              - [ ] List Comprehension
            - [ ] Get affinity element with `random.choice`
              - [ ] Loop comprehension
              - [ ] List Comprehension
          - [ ] Affinity stored in shuffled queue
            - [ ] Get affinity element with `queue.get()`
              - [ ] Loop comprehension
              - [ ] List Comprehension
            - [ ] Get affinity element with `random.choice`
              - [ ] Loop comprehension
              - [ ] List Comprehension
        - [ ] Use built-in affinity handler
          - [ ] Get affinity element with `list.pop()`
            - [ ] Loop comprehension
            - [ ] List Comprehension
          - [ ] Get affinity element with `random.choice`
            - [ ] Loop comprehension
            - [ ] List Comprehension
        - [ ] Affinity stored in shuffled list
          - [ ] Get affinity element with `list.pop()`
            - [ ] Loop comprehension
            - [ ] List Comprehension
          - [ ] Get affinity element with `random.choice`
            - [ ] Loop comprehension
            - [ ] List Comprehension
        - [ ] Affinity stored in queue
          - [ ] Get affinity element with `queue.get()`
            - [ ] Loop comprehension
            - [ ] List Comprehension
          - [ ] Get affinity element with `random.choice`
            - [ ] Loop comprehension
            - [ ] List Comprehension
        - [ ] Affinity stored in shuffled queue
          - [ ] Get affinity element with `queue.get()`
            - [ ] Loop comprehension
            - [ ] List Comprehension
          - [ ] Get affinity element with `random.choice`
            - [ ] Loop comprehension
            - [ ] List Comprehension
2. [ ] Validate function arguments:
  - [ ] Use the `inspect.signature().parameters` function to find out how many arguments are needed and their names
  - [ ] Validate for initializer, if provided
  - [ ] Validate for main function given for pool
3. [ ] Add variable for threadpools to allow creating X as many threads as specified by the affinity variable

# COMPLETED
[x] Make sure affinity for pool is the same or a subset of the overall affinity
